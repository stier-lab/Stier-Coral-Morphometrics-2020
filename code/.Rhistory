summarise, grp.mean=mean(convexity))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")
labs(x="Branch distance")+
theme(legend.position = "top")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")
labs(x="Interstitial space")+
theme(legend.position = "top")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
d1
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")
labs(x="Branch distance")+
theme(legend.position = "top")
d1
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
view(coral_dim)
#Create dataframe called coral_dim
coral_dim <- merge(coral_pg, branch_w_summarized, by = "coral_id") %>%
merge(coral_field2, by = "coral_id") %>%
mutate(volume_pg=volume_pg*10^6,
max_hull_volume=max_hull_volume*10^6, #convert m^3 to cm^3
max_hull_surface_area=max_hull_surface_area*10^4,
surface_area=surface_area*10^4) %>%   #convert m^2 to cm^2
dplyr::rename(max_hull_SA = max_hull_surface_area,
SA = surface_area)
coral_dim$interstitial_space <- coral_dim$max_hull_volume - coral_dim$volume_pg #calculate available space by subtracting software estimated volume from convex hull volume
coral_dim$SAV <- coral_dim$SA / coral_dim$volume_pg #calculate surface area to volume relationship
coral_dim$convexity <- coral_dim$volume_pg / coral_dim$max_hull_volume #calculate proportion occupied, high ratios indicate less free space between branches
coral_dim$packing <- coral_dim$SA / coral_dim$max_hull_SA #how much of an objects surface area is situated internally
coral_dim$sphericity <- ((3.14^(1/3))*((6*coral_dim$volume_pg)^(2/3)))/coral_dim$SA #calculate sphericity or how close the object is to a sphere
coral_dim <- coral_dim %>%
dplyr::select(coral_id, branch, cafi, size_class, volume_field, volume_pg, SA, avg_w_cm, interstitial_space, SAV, convexity, packing, sphericity) %>%
filter(cafi=="empty") %>%
drop_na(interstitial_space)
#coral_dim$branch <- ifelse(coral_dim$convexity>=0.5, "tight","wide") #classifies wide and tight branching coral based on convexity measurement
#Create dataframe called cafi_coral and merge coral and cafi data
cafi_coral <- merge(cafi_summarized2, coral_dim, by ="coral_id") %>%
drop_na(interstitial_space) %>%
dplyr::select(coral_id, branch, cafi, size_class, volume_field, volume_pg, SA, avg_w_cm, interstitial_space, SAV, convexity, packing, sphericity, num_cafi, cafi_present, cafi_richness, sw)
cafi_coral$branch <- ifelse(cafi_coral$convexity>=0.5, "tight","wide") #classifies wide and tight branching coral based on convexity measurement
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
#Create dataframe called coral_dim
coral_dim <- merge(coral_pg, branch_w_summarized, by = "coral_id") %>%
merge(coral_field2, by = "coral_id") %>%
mutate(volume_pg=volume_pg*10^6,
max_hull_volume=max_hull_volume*10^6, #convert m^3 to cm^3
max_hull_surface_area=max_hull_surface_area*10^4,
surface_area=surface_area*10^4) %>%   #convert m^2 to cm^2
dplyr::rename(max_hull_SA = max_hull_surface_area,
SA = surface_area)
coral_dim$interstitial_space <- coral_dim$max_hull_volume - coral_dim$volume_pg #calculate available space by subtracting software estimated volume from convex hull volume
coral_dim$SAV <- coral_dim$SA / coral_dim$volume_pg #calculate surface area to volume relationship
coral_dim$convexity <- coral_dim$volume_pg / coral_dim$max_hull_volume #calculate proportion occupied, high ratios indicate less free space between branches
coral_dim$packing <- coral_dim$SA / coral_dim$max_hull_SA #how much of an objects surface area is situated internally
coral_dim$sphericity <- ((3.14^(1/3))*((6*coral_dim$volume_pg)^(2/3)))/coral_dim$SA #calculate sphericity or how close the object is to a sphere
coral_dim <- coral_dim %>%
dplyr::select(coral_id, branch, cafi, size_class, volume_field, volume_pg, SA, avg_w_cm, interstitial_space, SAV, convexity, packing, sphericity) %>%
filter(cafi=="empty")
#coral_dim$branch <- ifelse(coral_dim$convexity>=0.5, "tight","wide") #classifies wide and tight branching coral based on convexity measurement
#Create dataframe called cafi_coral and merge coral and cafi data
cafi_coral <- merge(cafi_summarized2, coral_dim, by ="coral_id") %>%
drop_na(interstitial_space) %>%
dplyr::select(coral_id, branch, cafi, size_class, volume_field, volume_pg, SA, avg_w_cm, interstitial_space, SAV, convexity, packing, sphericity, num_cafi, cafi_present, cafi_richness, sw)
cafi_coral$branch <- ifelse(cafi_coral$convexity>=0.5, "tight","wide") #classifies wide and tight branching coral based on convexity measurement
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")+
scale_color_brewer(palette="Dark2")+
theme_minimal()
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
#Classification based on convexity measuremnts
mu <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d1 <- ggplot(cafi_coral, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu2 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d2 <- ggplot(cafi_coral, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu2, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu3 <- ddply(cafi_coral, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d3 <- ggplot(cafi_coral, aes(x=convexity, fill=branch))+
labs(x="Convexity")+
geom_density(alpha=0.4)+
geom_vline(data=mu3, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
theme(legend.position = "top")
#Classification based on qualitative analysis in the field
mu4 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(avg_w_cm, na.rm=TRUE))
d4 <- ggplot(coral_dim, aes(x=avg_w_cm, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu4, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Branch distance")+
theme(legend.position = "top")
mu5 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(interstitial_space, na.rm=TRUE))
d5 <- ggplot(coral_dim, aes(x=interstitial_space, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu5, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Interstitial space")+
theme(legend.position = "top")
mu6 <- ddply(coral_dim, "branch",
summarise, grp.mean=mean(convexity, na.rm=TRUE))
d6 <- ggplot(coral_dim, aes(x=convexity, fill=branch))+
geom_density(alpha=0.4)+
geom_vline(data=mu6, aes(xintercept=grp.mean, color=branch),
linetype="dashed")+
labs(x="Convexity")+
theme(legend.position = "top")
ggarrange(d1,d2,d3,d4,d5,d6,
ncol = 3, nrow = 2)
knitr::opts_chunk$set(echo = TRUE)
# Load libraries
library(here)
library(tidyverse)
library(vegan)
library(reshape)
library(ggplot2)
library(ggpubr)
library(zoo)
library(sjPlot)
library(sjmisc)
library(sjlabelled)
library(psych)
library(knitr)
library(faraway)
library(car)
library(MASS)
library(gridExtra)
library(grid)
library(plyr)
#Load data
branch_width <- read.csv(here("photogrammetry_data/branchwidth_data.csv"))
knitr::opts_chunk$set(echo = TRUE)
# Load libraries
library(here)
library(tidyverse)
library(vegan)
library(reshape)
library(ggplot2)
library(ggpubr)
library(zoo)
library(sjPlot)
library(sjmisc)
library(sjlabelled)
library(psych)
library(knitr)
library(faraway)
library(car)
library(MASS)
library(gridExtra)
library(grid)
library(plyr)
#Load data
branch_width <- read.csv(here("photogrammetry_data/branchwidth_data.csv"))
knitr::opts_chunk$set(echo = TRUE)
# Load libraries
library(here)
library(tidyverse)
library(vegan)
library(reshape)
library(ggplot2)
library(ggpubr)
library(zoo)
library(sjPlot)
library(sjmisc)
library(sjlabelled)
library(psych)
library(knitr)
library(faraway)
library(car)
library(MASS)
library(gridExtra)
library(grid)
library(plyr)
#Load data
branch_width <- read.csv(here("photogrammetry_data/branchwidth_data.csv"))
knitr::opts_chunk$set(echo = TRUE)
# Load libraries
library(here)
library(tidyverse)
library(vegan)
library(reshape)
library(ggplot2)
library(ggpubr)
library(zoo)
library(sjPlot)
library(sjmisc)
library(sjlabelled)
library(psych)
library(knitr)
library(faraway)
library(car)
library(MASS)
library(gridExtra)
library(grid)
library(plyr)
#Load data
branch_width <- read.csv(here("photogrammetry_data/branchwidth_data.csv"))
